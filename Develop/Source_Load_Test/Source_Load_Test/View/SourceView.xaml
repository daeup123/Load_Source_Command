<Page x:Class="Source_Load_Test.View.SourceView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:Source_Load_Test.View"
      mc:Ignorable="d"
      d:DesignHeight="450"
      d:DesignWidth="800"
      Title="SourceView"
      Background="#95A5A6">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="120" />
        </Grid.ColumnDefinitions>

        <!-- 왼쪽 패널 -->
        <StackPanel Grid.Column="0"
                    Margin="10">
            <!-- 현재모드 섹션 -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Label Grid.Column="0"
                       Content="현재모드"
                       BorderBrush="Black"
                       BorderThickness="1"
                       HorizontalContentAlignment="Center"
                       VerticalContentAlignment="Center" />
                <Button Grid.Column="1"
                        Content="CC"
                        Background="#2196F3"
                        Foreground="White"
                        FontWeight="Bold" />
                <Button Grid.Column="2"
                        Content="CV"
                        Background="LightGray" />
            </Grid>

            <!-- 설정 값 섹션 -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Label Grid.Column="0"
                       Content="설정 값"
                       BorderBrush="Black"
                       BorderThickness="1"
                       Background="White"
                       Margin="0,0,5,0" />
                <Label Grid.Column="1"
                       Content="응답모드"
                       BorderBrush="Black"
                       BorderThickness="1"
                       Background="White"
                       Margin="5,0,0,0" />
            </Grid>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <!-- 전압 범위 -->
                <Border Grid.Column="0"
                        BorderBrush="Black"
                        BorderThickness="1"
                        Padding="5"
                        Margin="0,10,5,0">
                    <!--측정값 Grid-->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Column="0"
                                   Grid.Row="0"
                                   Text="{Binding SetV}"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center" />
                        <TextBlock Grid.Column="0"
                                   Grid.Row="1"
                                   Text="{Binding SetI}"
                                   FontSize="11"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="0,0,0,0" />
                        <Label Grid.Row="0"
                               Grid.Column="1"
                               HorizontalAlignment="Right"
                               FontWeight="Black"
                               Content="V">
                        </Label>
                        <Label Grid.Row="1"
                               Grid.Column="1"
                               Content="A"
                               HorizontalAlignment="Right">
                        </Label>
                    </Grid>

                </Border>
                <StackPanel Grid.Column="1"
                            Margin="5, 0, 0, 0">
                    <!-- SLOPE 버튼 -->
                    <Button Content="SLOPE"
                            BorderBrush="Black"
                            BorderThickness="1"
                            Background="White"
                            Margin="0,10,0,0"
                            Height="30" />
                    <Button Content="FAST"
                            BorderBrush="Black"
                            BorderThickness="1"
                            Background="White"
                            Margin="0,10,0,0"
                            Height="30" />

                </StackPanel>
            </Grid>

            <!-- 적응 버튼 -->

            <!-- 측정값 섹션 -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Label  Grid.Column="0"
                        Content="측정값"
                        BorderBrush="Black"
                        BorderThickness="1"
                        Background="White"
                        Margin="0,0,5,0" />
                <Label  Grid.Column="1"
                        Content="응답시간"
                        BorderBrush="Black"
                        BorderThickness="1"
                        Background="White"
                        Margin="5,0,0,0" />
            </Grid>

            <!-- 측정값 범위 -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0"
                        BorderBrush="Black"
                        BorderThickness="1"
                        Padding="5"
                        Margin="0,0,5,0">
                    <!--측정값 Grid-->
                    <Grid Height="52"
                          VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Column="0"
                                   Grid.Row="0"
                                   Text="{Binding GetV}"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center" />
                        <TextBlock Grid.Column="0"
                                   Grid.Row="1"
                                   Text="{Binding GetI}"
                                   FontSize="11"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="0,0,0,0" />
                        <Label Grid.Row="0"
                               Grid.Column="1"
                               HorizontalAlignment="Right"
                               Content="V">
                        </Label>
                        <Label Grid.Row="1"
                               Grid.Column="1"
                               Content="A"
                               HorizontalAlignment="Right">
                        </Label>
                    </Grid>
                </Border>

                <Border Grid.Column="1"
                        BorderBrush="Black"
                        BorderThickness="1"
                        Padding="5"
                        Margin="5,0,0,0">
                    <TextBlock Text="0s"
                               FontSize="11"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" />
                </Border>
            </Grid>

            <!-- 전력 범위 -->
            <Border BorderBrush="Black"
                    BorderThickness="1"
                    Padding="5"
                    Margin="0,10,0,0">
                <TextBlock Text="{Binding Get}"
                           FontSize="12"
                           HorizontalAlignment="Center" />
            </Border>
            <!-- START/STOP 버튼 -->
            <Button Content="START"
                    Background="#4CAF50"
                    Foreground="White"
                    FontWeight="Bold"
                    Height="40"
                    Margin="0,20,0,10"
                    Command="{Binding StartStop}"
                    CommandParameter="Start" />
            
            <Button Content="STOP"
                    Background="#F44336"
                    Foreground="White"
                    FontWeight="Bold"
                    Height="40"
                    Command="{Binding StartStop}"
                    CommandParameter="Start" />
        </StackPanel>

        <!-- 중앙 그래프 영역 -->
        <Border Grid.Column="1"
                BorderBrush="DarkGray"
                BorderThickness="2"
                Margin="10"
                Background="White">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- 그래프를 대체할 프레임 -->
                <Frame Grid.Row="0"
                       Background="#F5F5F5"
                       Margin="5" />

                <!-- 하단 테이블 -->
                <DataGrid Grid.Row="1"
                          Height="60"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          CanUserAddRows="False"
                          Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="No"
                                            Width="50"
                                            Binding="{Binding No}" />
                        <DataGridTextColumn Header="시간"
                                            Width="*"
                                            Binding="{Binding Time}" />
                        <DataGridTextColumn Header="전압"
                                            Width="*"
                                            Binding="{Binding Voltage}" />
                        <DataGridTextColumn Header="전류"
                                            Width="*"
                                            Binding="{Binding Current}" />
                        <DataGridTextColumn Header="전력"
                                            Width="*"
                                            Binding="{Binding Power}" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- 오른쪽 메뉴 패널 -->
        <StackPanel Grid.Column="2"
                    Margin="10">
            <Label Content="Menu"
                   HorizontalContentAlignment="Center"
                   FontWeight="Bold"
                   FontSize="14"
                   Margin="0,0,0,10" />

            <Button Content="설정 저장"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Background="White"
                    Margin="0,5" />
            <Button Content="보증 설정"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Background="White"
                    Margin="0,5" />
            <Button Content="출력 지연"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Background="White"
                    Margin="0,5" />
            <Button Content="리스트"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Background="White"
                    Margin="0,5" />
            <Button Content="내부저항"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Background="White"
                    Margin="0,5" />

        </StackPanel>
    </Grid>
</Page>
